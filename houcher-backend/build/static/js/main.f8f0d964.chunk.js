(this["webpackJsonphoucher-frontend"]=this["webpackJsonphoucher-frontend"]||[]).push([[0],{144:function(e,a,t){e.exports=t(192)},192:function(e,a,t){"use strict";t.r(a);var n,r=t(0),c=t.n(r),i=t(16),s=t.n(i),o=t(13),l=t(22),m=t(8),u=t(37),p=t(55),d=t(119),g=t(120),E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_USER":return!0;case"LOGOUT_USER":return!1;default:return e}},f={token:"",expireTime:"",id:"",username:"",firstname:"",lastname:"",alias:"",myHome:"",myLikes:[],newApartmentType:"",newNumberOfRooms:"",newPostalCode:""},h=function(e){return{type:"SET_USER",user:e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_USER":case"RESET_USER":return a.user;default:return e}},v=t(6),y=t.n(v),O=t(11),k=t(7),j=t(32),x=t.n(j),T=function(e){return window.localStorage.setItem("loggedHoucherUser",JSON.stringify(e))},w=function(){return JSON.parse(localStorage.getItem("loggedHoucherUser"))},S=function(){return localStorage.removeItem("loggedHoucherUser")},C="/api/user",N=function(){return{headers:{Authorization:"bearer ".concat(w().token)}}},R={create:function(){var e=Object(O.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C+"/signin",e.next=3,x.a.post("/api/user/signin",a);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),loginUser:function(){var e=Object(O.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C+"/login",e.next=3,x.a.post("/api/user/login",a);case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(O.a)(y.a.mark((function e(a){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(C,"/").concat(a),e.next=3,x.a.get(t,N());case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),getUserPopulated:function(){var e=Object(O.a)(y.a.mark((function e(a){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(C,"/populate/").concat(a),e.next=3,x.a.get(t,N());case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),getUserFansHomes:function(){var e=Object(O.a)(y.a.mark((function e(a){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(C,"/likes/").concat(a),e.next=3,x.a.get(t,N());case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),editUser:function(){var e=Object(O.a)(y.a.mark((function e(a){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(C,"/").concat(a.id),e.next=3,x.a.put(t,a,N());case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},A=function(e){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!0,hasFetchError:!1})},F=function(e,a){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!1,hasFetchError:!1,user:a.data})},H=function(e,a){return Object(k.a)(Object(k.a)({},e),{},{hasFetchError:!0,isFetching:!1,errorMessage:a.data.message})},_=function(e){return function(){var a=Object(O.a)(y.a.mark((function a(t){var n;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"FETCH_MYLIKES"}),a.next=4,R.getUserPopulated(e);case 4:(n=a.sent).status>=200&&n.status<300&&t({type:"FETCH_MYLIKES_SUCCESS",data:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:"HAS_FETCH_ERROR_MYLIKES",data:a.t0});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{},isFetching:!1,hasFetchError:!1,errorMessage:null},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_MYLIKES":return Object(k.a)(Object(k.a)({},e),{},{apartment:a.data});case"FETCH_MYLIKES":return A(e);case"FETCH_MYLIKES_SUCCESS":return F(e,a);case"HAS_FETCH_ERROR_MYLIKES":return H(e,a);case"RESET_MYLIKES":return a.data;default:return e}},M=function(e){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!0,hasFetchError:!1})},P=function(e,a){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!1,hasFetchError:!1,myFans:a.data})},L=function(e,a){return Object(k.a)(Object(k.a)({},e),{},{hasFetchError:!0,isFetching:!1,errorMessage:a.data.message})},W=function(e){return function(){var a=Object(O.a)(y.a.mark((function a(t){var n;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"FETCH_MYFANS"}),a.next=4,R.getUserFansHomes(e);case 4:(n=a.sent).status>=200&&n.status<300&&t({type:"FETCH_MYFANS_SUCCESS",data:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:"HAS_FETCH_ERROR_MYFANS",data:a.t0});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{myFans:[],isFetching:!1,hasFetchError:!1,errorMessage:null},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_MYFANS":return M(e);case"FETCH_MYFANS_SUCCESS":return P(e,a);case"HAS_FETCH_ERROR_MYFANS":return L(e,a);case"RESET_MYFANS":return a.data;default:return e}},K="",U={setToken:function(e){K="bearer ".concat(e)},getAll:function(){var e=Object(O.a)(y.a.mark((function e(){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/apartments");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSingle:function(){var e=Object(O.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/api/apartments","/").concat(a));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),getMyApartment:function(){var e=Object(O.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/api/apartments","/").concat(a));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),create:function(){var e=Object(O.a)(y.a.mark((function e(a){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:K}},e.next=3,x.a.post("/api/apartments",a,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),editApartment:function(){var e=Object(O.a)(y.a.mark((function e(a){var t,n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:K}},n="".concat("/api/apartments","/").concat(a.id),e.next=4,x.a.put(n,a,t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},Y=function(e){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!0,hasFetchError:!1})},D=function(e,a){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!1,hasFetchError:!1,apartment:a.data})},z=function(e,a){return Object(k.a)(Object(k.a)({},e),{},{hasFetchError:!0,isFetching:!1,errorMessage:a.data.message})},q=function(e){return function(){var a=Object(O.a)(y.a.mark((function a(t){var n;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"FETCH_MY_APARTMENT"}),a.next=4,U.getMyApartment(e);case 4:(n=a.sent).status>=200&&n.status<300&&t({type:"FETCH_MY_APARTMENT_SUCCESS",data:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:"HAS_FETCH_ERROR_MY_APARTMENT",data:a.t0});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},G=function(e){return{type:"SET_APARTMENT",data:e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{apartment:{},isFetching:!1,hasFetchError:!1,errorMessage:null},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_APARTMENT":return Object(k.a)(Object(k.a)({},e),{},{apartment:a.data});case"FETCH_MY_APARTMENT":return Y(e);case"FETCH_MY_APARTMENT_SUCCESS":return D(e,a);case"HAS_FETCH_ERROR_MY_APARTMENT":return z(e,a);case"RESET_MY_APARTMENT":return a.data;default:return e}},J=function(e){return{type:"SET_NEWLIKES",number:e}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_NEWLIKES":return a.number;case"CLEAR_NEWLIKES":return null;default:return e}},Z=function(e,a){return function(){var t=Object(O.a)(y.a.mark((function t(r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"SET_NOTIFICATION",content:e}),n&&clearTimeout(n),n=setTimeout((function(){r({type:"CLEAR_NOTIFICATION"})}),1e3*a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_NOTIFICATION":return a.content;case"CLEAR_NOTIFICATION":return null;default:return e}},$=function(e){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!0})},ee=function(e,a){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!1,apartments:a.data})},ae=function(e,a){return Object(k.a)(Object(k.a)({},e),{},{hasFetchError:!0,isFetching:!1,errorMessage:a.data.message})},te=function(){return function(){var e=Object(O.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"FETCH_APARTMENTS"}),e.next=4,U.getAll();case 4:(t=e.sent).status>=200&&t.status<300&&a({type:"FETCH_APARTMENTS_SUCCESS",data:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"HAS_FETCH_ERROR_APARTMENTS",data:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{apartments:[],isFetching:!1,hasFetchError:!1,errorMessage:null},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_APARTMENTS":return $(e);case"FETCH_APARTMENTS_SUCCESS":return ee(e,a);case"HAS_FETCH_ERROR_APARTMENTS":return ae(e,a);case"CREATE_APARTMENT":return e.apartments.concat(a.data);case"RESET_APARTMENTS":return a.data;default:return e}},re=function(e){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!0,hasFetchError:!1})},ce=function(e,a){return Object(k.a)(Object(k.a)({},e),{},{isFetching:!1,hasFetchError:!1,apartment:a.data})},ie=function(e,a){return Object(k.a)(Object(k.a)({},e),{},{hasFetchError:!0,isFetching:!1,errorMessage:a.data.message})},se=function(e){return function(){var a=Object(O.a)(y.a.mark((function a(t){var n;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"FETCH_APARTMENT"}),a.next=4,U.getSingle(e);case 4:(n=a.sent).status>=200&&n.status<300&&t({type:"FETCH_APARTMENT_SUCCESS",data:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:"HAS_FETCH_ERROR_APARTMENT",data:a.t0});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{apartment:{},isFetching:!1,hasFetchError:!1,errorMessage:null},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_APARTMENT":return re(e);case"FETCH_APARTMENT_SUCCESS":return ce(e,a);case"HAS_FETCH_ERROR_APARTMENT":return ie(e,a);case"RESET_SINGLE_APARTMENT":return a.data;default:return e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SHOW_ALL":return!0;case"SHOW_SIX":return!1;default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"START_LOADING":return!0;case"STOP_LOADING":return!1;default:return e}},ue=Object(p.combineReducers)({loginReducer:E,userReducer:b,myLikesReducer:B,myFansReducer:I,myApartmentReducer:V,newLikesReducer:Q,notificationReducer:X,apartmentReducer:ne,singleApartmentReducer:oe,viewReducer:le,loaderReducer:me}),pe=Object(p.createStore)(ue,Object(d.composeWithDevTools)(Object(p.applyMiddleware)(g.a))),de=t(269),ge=t(126),Ee=t(268),fe=(t(183),t(228)),he=t(38),be=t(231),ve=t(232),ye=t(233),Oe=t(234),ke=t(4),je=t(235),xe=t(236),Te=t(237);var we=Object(ke.a)((function(e){return{heroContent:{padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},cardGrid:{paddingTop:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"20.25%",paddingBottom:"17.25%",display:"flex",alignItems:"center",justifyContent:"center"},cardContent:{display:"flex",alignItems:"center",justifyContent:"center"}}}))((function(e){var a=e.classes;return c.a.createElement(c.a.Fragment,null,c.a.createElement("main",null,c.a.createElement("div",{className:a.heroContent},c.a.createElement(fe.a,{maxWidth:"sm"},c.a.createElement(he.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Houcher"),c.a.createElement(he.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"Vaihda nykyinen asuntosi unelmiesi asuntoon! Houcherilla l\xf6yd\xe4t uuden asunnon ja samalla myyt asuntosi sit\xe4 tarvitsevalle."),c.a.createElement("div",{className:a.heroButtons},c.a.createElement(be.a,{container:!0,spacing:2,justify:"center"},c.a.createElement(be.a,{item:!0},c.a.createElement(ve.a,{variant:"contained",color:"primary",component:o.b,to:"/login"},"Kirjaudu")),c.a.createElement(be.a,{item:!0},c.a.createElement(ve.a,{variant:"outlined",color:"primary",component:o.b,to:"/signin"},"Luo tili"))))),c.a.createElement(fe.a,{className:a.cardGrid,maxWidth:"md"},c.a.createElement(be.a,{container:!0,spacing:4},c.a.createElement(be.a,{item:!0,xs:12,sm:6,md:4},c.a.createElement(ye.a,{className:a.card},c.a.createElement(Oe.a,{className:a.cardMedia},c.a.createElement(je.a,{style:{color:"#4caf50",fontSize:65}})),c.a.createElement(Oe.a,{className:a.cardContent},c.a.createElement(he.a,null,"S\xe4\xe4st\xe4 selv\xe4\xe4 rahaa! Houcherilla et tarvitse v\xe4litt\xe4j\xe4\xe4 etk\xe4 maksa v\xe4lityspalkkioita.")))),c.a.createElement(be.a,{item:!0,xs:12,sm:6,md:4},c.a.createElement(ye.a,{className:a.card},c.a.createElement(Oe.a,{className:a.cardMedia},c.a.createElement(xe.a,{style:{color:"#2979ff",fontSize:65}})),c.a.createElement(Oe.a,{className:a.cardContent},c.a.createElement(he.a,null,"S\xe4\xe4st\xe4 aikaa! L\xf6yd\xe4 asunnollesi ostaja ja samalla itsellesi unelmiesi asunto.")))),c.a.createElement(be.a,{item:!0,xs:12,sm:6,md:4},c.a.createElement(ye.a,{className:a.card},c.a.createElement(Oe.a,{className:a.cardMedia},c.a.createElement(Te.a,{style:{color:"#ff1744",fontSize:65}})),c.a.createElement(Oe.a,{className:a.cardContent},c.a.createElement(he.a,null,"L\xf6yd\xe4 asuntojen match ja nauti el\xe4m\xe4si t\xe4rkeimpien kauppojen helppoudesta.")))))))))})),Se=t(62),Ce=function(e){var a=e.children,t=Object(Se.a)(e,["children"]),n=Object(l.h)(),r=n.pathname,i=n.search,s=Object(m.c)((function(e){return e.loginReducer}));return c.a.createElement(l.b,t,s?a:c.a.createElement(l.a,{to:"/login?redirect=".concat(r).concat(i)}))},Ne=t(19),Re=t(121),Ae=t.n(Re),Fe=t(242),He=t(241),_e=t(238),Be=t(131),Me=t(239),Pe=t(240),Le=t(81),We=t.n(Le),Ie=t(82),Ke=t.n(Ie),Ue=Object(ke.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},cardSecondary:{flexGrow:1,backgroundColor:e.palette.primary.light},size:{float:"right"}}}))((function(e){var a=e.classes,t=e.apartment,n=e.user,r=e.toSingleView,i=e.handleLike,s=!!t.likes&&t.likes.some((function(e){return e.id===n.id}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(ye.a,{className:a.card},c.a.createElement(_e.a,{action:c.a.createElement(Be.a,{"aria-label":"settings",onClick:function(){return i(t.id)}},s?c.a.createElement(We.a,{color:"primary"}):c.a.createElement(Ke.a,{color:"primary"})),title:c.a.createElement(he.a,null,t.streetAddress),subheader:c.a.createElement(c.a.Fragment,null,t.zipCode," ",t.city)}),c.a.createElement(Me.a,{className:a.cardMedia,image:t.images[0],title:"Image title"}),c.a.createElement(Oe.a,{className:a.cardContent},c.a.createElement(be.a,{container:!0,spacing:4,direction:"row",justify:"space-between"},c.a.createElement(be.a,{item:!0,xs:!0},c.a.createElement(he.a,{gutterBottom:!0,variant:"h6",component:"h6"},t.price," \u20ac")),c.a.createElement(be.a,{item:!0,xs:!0},c.a.createElement(he.a,{gutterBottom:!0,variant:"h6",component:"h6",align:"right"},t.surfaceArea," m\xb2"))),c.a.createElement(he.a,null,t.apartmentSetting),c.a.createElement(he.a,null,t.apartmentType,", ",t.buildYear)),c.a.createElement(Pe.a,null),c.a.createElement(Oe.a,{className:a.cardSecondary},c.a.createElement(be.a,{container:!0,spacing:4,direction:"row",justify:"space-between"},c.a.createElement(be.a,{item:!0,xs:!0},c.a.createElement(he.a,{gutterBottom:!0,variant:"subtitle2"},"Vaihto:"))),c.a.createElement(he.a,null,t.user.newApartmentType,", ",t.user.newNumberOfRooms,"h ,"," ",t.user.newPostalCode)),c.a.createElement(Pe.a,null),c.a.createElement(He.a,null,c.a.createElement(ve.a,{size:"small",color:"primary",onClick:function(){return r(t.id)}},"Lis\xe4\xe4"))))})),Ye=function(e,a,t){var n=e;return!0===a.bestSix&&(n=function(e,a){return e.filter((function(e){return e.apartmentType.toLowerCase()===a.newApartmentType})).filter((function(e){return parseInt(e.price,10)<=parseInt(a.newMaxPrice,10)}))}(e,t)),a.apartmentTypes.length>0&&(n=n.filter((function(e){return a.apartmentTypes.includes(e.apartmentType)}))),a.numberOfRooms.length>0&&(n=n.filter((function(e){return a.numberOfRooms.includes(e.numberOfRooms)}))),void 0!==a.order&&("latest"===a.order&&n.sort((function(e,a){return new Date(a.createdAt)-new Date(e.createdAt)})),"oldest"===a.order&&n.sort((function(e,a){return new Date(e.createdAt)-new Date(a.createdAt)}))),n},De=Object(ke.a)((function(e){return{cardGrid:{paddingTop:e.spacing(1),paddingBottom:e.spacing(4)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1}}}))((function(e){var a,t,n=e.classes,r=e.user,i=e.apartmentContent,s=e.filter,o=Object(m.b)(),u=Object(l.g)(),p=Object(m.c)((function(e){return e.viewReducer})),d=i.apartments.sort((function(e,a){return new Date(a.createdAt)-new Date(e.createdAt)})).filter((function(e){return e.id!==r.myHome})),g=function(e){u.push("/home/".concat(e))},E=function(){var e=Object(O.a)(y.a.mark((function e(a){var t,n,c,s,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.apartments.find((function(e){return e.id===a})),-1===(n=t.likes.findIndex((function(e){return e.id===r.id})))?(c=Date.now(),t.likes.push({id:r.id,time:c,ownerHasSeen:!1})):t.likes.splice(n,1),t.user=t.user.id,-1===(s=r.myLikes.indexOf(a))?r.myLikes.push(a):r.myLikes.splice(s,1),e.prev=6,e.next=9,U.editApartment(t);case 9:return e.next=11,R.editUser(r);case 11:l=e.sent,o(h(l.data)),o(te()),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),o(Z({message:"Hups! Jokin meni vikaan. Yrit\xe4 my\xf6hemmin uudelleen.",alertType:"error"},5));case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(a){return e.apply(this,arguments)}}();return a=i.isFetching?c.a.createElement(fe.a,{className:n.cardGrid,maxWidth:"md"},c.a.createElement(be.a,{container:!0,spacing:4},c.a.createElement(be.a,{item:!0,xs:12,sm:6,md:4},c.a.createElement(Fe.a,{variant:"rect",height:150}),c.a.createElement(Fe.a,{variant:"rect"})),c.a.createElement(be.a,{item:!0,xs:12,sm:6,md:4},c.a.createElement(Fe.a,{variant:"rect",height:150}),c.a.createElement(Fe.a,{variant:"rect"})),c.a.createElement(be.a,{item:!0,xs:12,sm:6,md:4},c.a.createElement(Fe.a,{variant:"rect",height:150}),c.a.createElement(Fe.a,{variant:"rect"})))):i.hasFetchError?i.errorMessage:c.a.createElement(c.a.Fragment,null,c.a.createElement(fe.a,{className:n.cardGrid,maxWidth:"md"},c.a.createElement(be.a,{container:!0,spacing:4},Ye(d,s,r).slice(0,(t=i.apartments,p?t.length+1:6)).map((function(e){return c.a.createElement(be.a,{item:!0,key:e.id,xs:12,sm:6,md:4},c.a.createElement(Ue,{apartment:e,user:r,toSingleView:g,handleLike:E}))}))),p?null:c.a.createElement(be.a,{container:!0,justify:"center",spacing:4},c.a.createElement(be.a,{item:!0},c.a.createElement(ve.a,{variant:"outlined",color:"secondary",startIcon:c.a.createElement(Ae.a,null),onClick:function(){return o({type:"SHOW_ALL"})}},"N\xe4yt\xe4 lis\xe4\xe4"))))),c.a.createElement(c.a.Fragment,null,a)})),ze=t(9),qe=t(130),Ge=Object(ke.a)((function(e){return{main:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,backgroundImage:"url(https://source.unsplash.com/random)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},mainContent:Object(ze.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0})}}))((function(e){var a=e.classes,t=e.header;return c.a.createElement(c.a.Fragment,null,c.a.createElement(qe.a,{className:a.main,style:{backgroundImage:"url(".concat(t.image,")")}},c.a.createElement("div",{className:a.overlay}),c.a.createElement(be.a,{container:!0},c.a.createElement(be.a,{item:!0,md:6},c.a.createElement("div",{className:a.mainContent},c.a.createElement(he.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0},t.title),c.a.createElement(he.a,{variant:"h5",color:"inherit",paragraph:!0},t.description))))))})),Ve=t(244),Je=t(245),Qe=t(246),Ze=t(247),Xe=t(248),$e=t(276),ea=t(273),aa=t(249),ta=t(278),na=t(252),ra=t(279),ca=t(243),ia=[{id:1,type:"Kerrostalo"},{id:2,type:"Rivitalo"},{id:3,type:"Paritalo"},{id:4,type:"Omakotitalo"}],sa=[{number:"1"},{number:"2"},{number:"3"},{number:"4"},{number:"5"},{number:"6"},{number:"7"}],oa=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(915+2*e.spacing(2)),{width:915,marginLeft:"auto",marginRight:"auto"}),paper:Object(ze.a)({marginTop:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(2)},e.breakpoints.up(915+2*e.spacing(3)),{marginTop:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(3)}),leftIcon:{marginRight:e.spacing()},filtersButton:{marginBottom:e.spacing(1),marginTop:e.spacing(1),paddingLeft:e.spacing()},formControl:{minWidth:300,maxWidth:300}}}))((function(e){var a=e.classes,t=e.applyFilter,n=e.filter,i=Object(r.useState)(!1),s=Object(Ne.a)(i,2),o=s[0],l=s[1],u=Object(m.b)();Object(r.useEffect)((function(){(n.numberOfRooms.length>0||n.apartmentTypes.length>0||!0===n.bestSix)&&u({type:"SHOW_ALL"})}),[n,u]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.layout},c.a.createElement(ve.a,{className:a.filtersButton,onClick:function(){return l(!o)}},c.a.createElement(ca.a,{className:a.leftIcon}),"Hae asuntoja"),c.a.createElement(Ve.a,{in:o},c.a.createElement(qe.a,{className:a.paper},c.a.createElement(be.a,{container:!0,spacing:6},c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(Je.a,{row:!0},c.a.createElement(Qe.a,{control:c.a.createElement(Ze.a,{checked:n.bestSix,onChange:function(e){t({apartmentTypes:[],numberOfRooms:[],order:void 0,bestSix:e.target.checked})},name:"checkedA",color:"primary"}),label:"N\xe4yt\xe4 sopivimmat vaihdot"}))),c.a.createElement(be.a,{item:!0,xs:12,sm:4},c.a.createElement(Xe.a,{className:a.formControl},c.a.createElement($e.a,{htmlFor:"select-multiple-checkbox-first"},"Talotyyppi"),c.a.createElement(ea.a,{multiple:!0,value:n.apartmentTypes,onChange:function(e){t(Object(k.a)(Object(k.a)({},n),{},{apartmentTypes:e.target.value}))},renderValue:function(e){return e.join(", ")},input:c.a.createElement(aa.a,{id:"select-multiple-checkbox-first"})},ia.map((function(e){return c.a.createElement(ta.a,{key:e.id,value:e.type},c.a.createElement(na.a,{primary:e.type}))}))))),c.a.createElement(be.a,{item:!0,xs:12,sm:4},c.a.createElement(Xe.a,{className:a.formControl},c.a.createElement($e.a,{htmlFor:"select-multiple-checkbox-second"},"Huoneiden lukum\xe4\xe4r\xe4"),c.a.createElement(ea.a,{multiple:!0,value:n.numberOfRooms,onChange:function(e){t(Object(k.a)(Object(k.a)({},n),{},{numberOfRooms:e.target.value}))},renderValue:function(e){return e.join(", ")},input:c.a.createElement(aa.a,{id:"select-multiple-checkbox-second"})},sa.map((function(e){return c.a.createElement(ta.a,{key:e.number,value:e.number},c.a.createElement(na.a,{primary:e.number}))}))))),c.a.createElement(be.a,{item:!0,xs:12,sm:4},c.a.createElement(ra.a,{select:!0,fullWidth:!0,name:"customerId",label:"J\xe4rjest\xe4 ilmoitukset",value:void 0===n.order?"":n.order,onChange:function(e){return function(e){t(Object(k.a)(Object(k.a)({},n),{},{order:e.target.value}))}(e)},SelectProps:{native:!0}},c.a.createElement("option",{"aria-label":"Empty option"}),c.a.createElement("option",{key:"latest",value:"latest"},"Uusimman mukaan"),c.a.createElement("option",{key:"oldest",value:"oldest"},"Vanhimman mukaan"))),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ve.a,{fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){t({apartmentTypes:[],numberOfRooms:[],order:void 0})}},"Tyhjenn\xe4")))))))})),la={title:"Tervetuloa Houcheriin!",description:"Aloitetaan unelmiesi asunnon etsint\xe4",image:"https://houcher-apartment-images.s3.eu-central-1.amazonaws.com/pawel-czerwinski-1CZCGvc_DBQ-unsplash.jpg"},ma=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.apartmentReducer})),t=Object(m.c)((function(e){return e.userReducer})),n=Object(l.g)(),i=Object(u.e)({apartmentTypes:Object(u.f)(u.a,[]),numberOfRooms:Object(u.f)(u.a,[]),order:u.d,bestSix:Object(u.f)(u.b,!1)}),s=Object(Ne.a)(i,2),o=s[0],p=s[1];Object(r.useEffect)((function(){!t.username||t.firstname&&t.lastname||n.push("/user")}),[t,n]),Object(r.useEffect)((function(){e(te())}),[e]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ge,{header:la}),c.a.createElement(oa,{applyFilter:function(e){p(e,"push")},filter:o}),c.a.createElement(De,{apartmentContent:a,user:t,filter:o}))},ua=t(122),pa=t.n(ua),da=t(84),ga=t.n(da),Ea=t(253),fa=t(274),ha=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(ze.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),dragHere:{border:"medium dashed ",width:"50%",padding:20,textAlign:"center"},dragHereSpan:{display:"block",maxWidth:"8rem",margin:"0 auto"},dragHereButton:{maxWidth:"8.25rem",margin:"0 auto"},errors:{display:"inline-block",marginTop:"0.5rem",padding:"0.2rem 0.4rem",backgroundColor:"#e57373",borderRadius:"4px",color:"#fff"},imageList:{display:"flex",flexWrap:"wrap",maxWidth:"600px"},imageItem:{marginTop:"0.5rem",marginRight:"0.5rem"},submit:{margin:e.spacing(1,20,1,20)}}}))((function(e){var a=e.classes,t=Object(m.c)((function(e){return e.userReducer})),n=Object(r.useState)({streetAddress:"",zipCode:"",city:"",apartmentType:"",surfaceArea:"",numberOfRooms:"",buildYear:"",hasSauna:!1,hasBalcony:!1,hasOwnPlot:!1,hasElevator:!1,numberOfFloors:"",apartmentSetting:"",header:"",description:"",images:"link",price:""}),i=Object(Ne.a)(n,2),s=i[0],o=i[1],u=Object(r.useState)([]),p=Object(Ne.a)(u,2),d=p[0],g=p[1],E=["jpg","jpeg","gif","png"],f=Object(m.b)(),h=Object(l.g)(),b=function(){var e=Object(O.a)(y.a.mark((function e(a){var n,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a.preventDefault(),f({type:"START_LOADING"}),n=new FormData,r=0;r<d.length;r++)n.append("fileToUpload[]",d[r].file);return Object.entries(s).map((function(e){return n.append(e[0],e[1])})),e.prev=6,e.next=9,U.create(n);case 9:return c=e.sent,t.myHome=c.id,e.next=13,R.editUser(t);case 13:f(Z({message:"Asunto tallennettu.",alertType:"success"},3)),f({type:"STOP_LOADING"}),setTimeout((function(){h.push("/home/".concat(c.id))}),3e3),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),f({type:"STOP_LOADING"}),f(Z({message:"Hups! Jokin meni vikaan.",alertType:"error"},5));case 22:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(a){return e.apply(this,arguments)}}(),v=function(e){o(Object(k.a)(Object(k.a)({},s),{},Object(ze.a)({},e.target.name,e.target.value)))},j=function(e){o(Object(k.a)(Object(k.a)({},s),{},Object(ze.a)({},e.target.name,e.target.checked)))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.layout},c.a.createElement(qe.a,{className:a.paper},c.a.createElement(he.a,{variant:"h6",gutterBottom:!0},"Tallenna asunto"),c.a.createElement("form",{onSubmit:function(e){return b(e)}},c.a.createElement(be.a,{container:!0,spacing:3},c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"streetAddress",name:"streetAddress",label:"Katuosoite",fullWidth:!0,value:s.streetAddress,onChange:function(e){return v(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,type:"number",id:"surfaceArea",name:"surfaceArea",label:"Asunnon koko",fullWidth:!0,value:s.surfaceArea,onChange:function(e){return v(e)},InputProps:{endAdornment:c.a.createElement(Ea.a,{position:"start"},"m\xb2")}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"city",name:"city",label:"Kaupunki/Paikkakunta",fullWidth:!0,value:s.city,onChange:function(e){return v(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,type:"number",id:"zipCode",name:"zipCode",label:"Postinumero",fullWidth:!0,value:s.zipCode,onChange:function(e){return v(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{fullWidth:!0,type:"number",select:!0,id:"numberOfRooms",label:"Huoneiden lukum\xe4\xe4r\xe4",name:"numberOfRooms",onChange:function(e){return v(e)},value:s.numberOfRooms,required:!0,SelectProps:{native:!0}},c.a.createElement("option",null),sa.map((function(e){return c.a.createElement("option",{key:e.number,value:e.number},e.number)})))),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{fullWidth:!0,select:!0,id:"apartmentType",label:"Talotyyppi",name:"apartmentType",onChange:function(e){return v(e)},value:s.apartmentType,required:!0,SelectProps:{native:!0}},c.a.createElement("option",null),ia.map((function(e){return c.a.createElement("option",{key:e.id,value:e.type},e.type)})))),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,type:"number",id:"buildYear",name:"buildYear",label:"Rakennusvuosi",fullWidth:!0,value:s.buildYear,onChange:function(e){return v(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,type:"number",id:"numberOfFloors",name:"numberOfFloors",label:"Kerroksien m\xe4\xe4r\xe4",fullWidth:!0,value:s.numberOfFloors,onChange:function(e){return v(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,type:"number",id:"price",name:"price",label:"Hinta-arvio",fullWidth:!0,value:s.price,onChange:function(e){return v(e)},InputProps:{endAdornment:c.a.createElement(Ea.a,{position:"start"},"\u20ac")}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ve.a,{type:"button",fullWidth:!0,onClick:function(){window.open("https://asuntojen.hintatiedot.fi/haku/")},variant:"contained",color:"secondary",startIcon:c.a.createElement(ga.a,null)},"Apua hinnoitteluun")),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(ra.a,{required:!0,id:"apartmentSetting",name:"apartmentSetting",label:"Asunnon kokoonpano",placeholder:"esim. 2h, k, s",fullWidth:!0,value:s.apartmentSetting,onChange:function(e){return v(e)}})),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(ra.a,{required:!0,id:"header",name:"header",label:"Ilmoituksen otsikko",fullWidth:!0,value:s.header,onChange:function(e){return v(e)}})),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(ra.a,{id:"description",label:"Kuvaus asunnosta",name:"description",multiline:!0,rows:4,variant:"outlined",fullWidth:!0,value:s.description,onChange:function(e){return v(e)}})),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(pa.a,{multiple:!0,value:d,onChange:function(e,a){g(e)},maxNumber:6,maxFileSize:5e6,acceptType:E,dataURLKey:"data_url"},(function(e){var t=e.imageList,n=e.onImageUpload,r=e.onImageRemove,i=e.isDragging,s=e.dragProps,o=e.errors;return c.a.createElement("div",{className:"upload__image-wrapper"},c.a.createElement("div",Object.assign({className:a.dragHere},s,{style:i?{backgroundColor:"#e57373"}:void 0}),c.a.createElement("span",{className:a.dragHereSpan},"Raahaa kuva t\xe4h\xe4n"),c.a.createElement("span",null,"tai"),c.a.createElement("div",{className:a.dragHereButton},c.a.createElement(ve.a,{variant:"contained",color:"primary",onClick:n,style:i?{color:"#fff"}:void 0},"Valitse kuva"))),o&&c.a.createElement("div",{className:a.errors},o.maxFileSize&&c.a.createElement("div",null,"Kuvan tiedostokoko on suurempi kuin ",5e6," MB"),o.acceptType&&c.a.createElement("div",null,"Kuvan tiedostomuoto ei ole sallittu (",E.join(", "),")"),o.maxNumber&&c.a.createElement("div",null,"Kuvia voi olla enint\xe4\xe4n ",6," kpl")),"\xa0",c.a.createElement("div",{className:a.imageList},t.map((function(e,t){return c.a.createElement("div",{key:t,className:a.imageItem},c.a.createElement("img",{src:e.data_url,alt:"",height:"100"}),c.a.createElement("div",{className:"image-item__btn-wrapper"},c.a.createElement(ve.a,{onClick:function(){return r(t)}},"Poista kuva")))}))))}))),c.a.createElement(be.a,{item:!0,xs:6,sm:6},c.a.createElement(Qe.a,{control:c.a.createElement(fa.a,{color:"primary",name:"hasSauna",checked:s.hasSauna,onChange:function(e){return j(e)}}),label:"Oma sauna"})),c.a.createElement(be.a,{item:!0,xs:6,sm:6},c.a.createElement(Qe.a,{control:c.a.createElement(fa.a,{color:"primary",name:"hasBalcony",checked:s.hasBalcony,onChange:function(e){return j(e)}}),label:"Parveke"})),c.a.createElement(be.a,{item:!0,xs:6,sm:6},c.a.createElement(Qe.a,{control:c.a.createElement(fa.a,{color:"primary",name:"hasOwnPlot",checked:s.ownPlot,onChange:function(e){return j(e)}}),label:"Oma tontti"})),c.a.createElement(be.a,{item:!0,xs:6,sm:6},c.a.createElement(Qe.a,{control:c.a.createElement(fa.a,{color:"primary",name:"hasElevator",checked:s.hasElevator,onChange:function(e){return j(e)}}),label:"Hissi"})),c.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Tallenna"))))))})),ba=t(123),va=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(1e3+2*e.spacing(2)),{width:1e3,marginLeft:"auto",marginRight:"auto"}),paper:Object(ze.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(1e3+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),heading:{display:"flex",justifyContent:"space-between",alignItems:"center"},image:{backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",minHeight:"70vh"}}}))((function(e){var a=e.classes,t=Object(l.i)().id,n=Object(m.b)(),i=Object(m.c)((function(e){return e.singleApartmentReducer})),s=Object(m.c)((function(e){return e.userReducer})),o=i.apartment,u=!!o.likes&&o.likes.some((function(e){return e.id===s.id}));Object(r.useEffect)((function(){n(se(t))}),[n,t]);var p,d=function(){var e=Object(O.a)(y.a.mark((function e(){var a,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return-1===(a=o.likes.findIndex((function(e){return e.id===s.id})))?(r=Date.now(),o.likes.push({id:s.id,time:r,ownerHasSeen:!1})):o.likes.splice(a,1),o.user=o.user.id,-1===s.myLikes.indexOf(t)?s.myLikes.push(t):s.myLikes.splice(a,1),e.prev=5,e.next=8,U.editApartment(o);case 8:return e.next=10,R.editUser(s);case 10:c=e.sent,n(h(c.data)),n(se(t)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n(Z({message:"Hups! Jokin meni vikaan. Yrit\xe4 my\xf6hemmin uudelleen.",alertType:"error"},5));case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}();return p=i.isFetching?c.a.createElement("div",{className:a.layout},c.a.createElement(Fe.a,{variant:"rect",height:400})):i.hasFetchError?i.errorMessage:c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.layout},c.a.createElement(qe.a,{className:a.paper},c.a.createElement(be.a,{container:!0,spacing:3},c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement("div",{className:a.heading},c.a.createElement(he.a,{variant:"h5",gutterBottom:!0},o.price," \u20ac | ",o.surfaceArea," m\xb2"),c.a.createElement(Be.a,{"aria-label":"settings",onClick:function(){return d(o.id)}},u?c.a.createElement(We.a,{color:"primary"}):c.a.createElement(Ke.a,{color:"primary"}))),c.a.createElement(he.a,{gutterBottom:!0},o.streetAddress,", ",o.city," |"," ",o.apartmentSetting)),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(ba.Carousel,{showThumbs:!1,showStatus:!1},o.images?o.images.map((function(e){return c.a.createElement("div",{key:e},c.a.createElement("img",{src:e,alt:"apartment"}))})):c.a.createElement(c.a.Fragment,null))),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(he.a,{variant:"h5",gutterBottom:!0},o.header)),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(he.a,null,o.description)),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(he.a,{variant:"h6",gutterBottom:!0},"Asunnon tiedot")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Sijainti: ",o.streetAddress,", ",o.zipCode," ",o.city," ")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Asuinpinta-ala: ",o.surfaceArea," m\xb2")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Rakennuksen tyyppi: ",o.apartmentType)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Asunnon kokoonpano: ",o.apartmentSetting)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Huoneiden m\xe4\xe4r\xe4: ",o.numberOfRooms)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Rakennusvuosi: ",o.buildYear)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Kerroksien m\xe4\xe4r\xe4: ",o.numberOfFloors)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Oma tontti: ",o.hasOwnPlot?"Kyll\xe4":"Ei")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Parveke: ",o.hasOwnBalcony?"Kyll\xe4":"Ei")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Hissi: ",o.hasOwnElevator?"Kyll\xe4":"Ei")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Sauna: ",o.hasOwnSauna?"Kyll\xe4":"Ei")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Vaihtohinta: ",o.price," \u20ac")),Object.keys(o).length>0&&void 0!==o.user.newApartmentType&&void 0!==o.user.newNumberOfRooms?c.a.createElement(c.a.Fragment,null,c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(he.a,{variant:"h6",gutterBottom:!0},"Vaihto")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Asunnon tyyppi:"," ",Object.keys(o).length&&o.user.newApartmentType,","," ",Object.keys(o).length&&o.user.newNumberOfRooms,"h"," ")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Postinumero:"," ",Object.keys(o).length&&o.user.newPostalCode)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Hintakatto:"," ",Object.keys(o).length&&o.user.newMaxPrice," ","\u20ac")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Yhteystieto:"," ",Object.keys(o).length&&o.user.username))):null)))),c.a.createElement(c.a.Fragment,null,p)})),ya=t(280),Oa=t(85),ka=t.n(Oa);var ja=Object(ke.a)((function(e){return{paper:{marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{color:"#000000",textDecoration:"none"}}}}))((function(e){var a=e.classes,t=Object(r.useState)(""),n=Object(Ne.a)(t,2),i=n[0],s=n[1],u=Object(r.useState)(""),p=Object(Ne.a)(u,2),d=p[0],g=p[1],E=Object(r.useState)(""),f=Object(Ne.a)(E,2),h=f[0],b=f[1],v=Object(r.useState)(!1),k=Object(Ne.a)(v,2),j=k[0],x=k[1],T=Object(m.b)(),w=Object(l.g)(),S=function(){var e=Object(O.a)(y.a.mark((function e(a){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,R.create({username:i,password:d});case 4:t=e.sent,s(""),g(""),b(""),T(Z({message:"K\xe4ytt\xe4j\xe4tili ".concat(t.username," luotu. Voit nyt kirjautua sis\xe4\xe4n palveluun."),alertType:"success"},3)),setTimeout((function(){w.push("/login")}),3e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),T(Z({message:e.t0.message,alertType:"error"},5));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(a){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(fe.a,{component:"main",maxWidth:"xs"},c.a.createElement("div",{className:a.paper},c.a.createElement(ya.a,{className:a.avatar},c.a.createElement(ka.a,null)),c.a.createElement(he.a,{component:"h1",variant:"h5"},"Luo k\xe4ytt\xe4j\xe4tili"),c.a.createElement("form",{className:a.form,onSubmit:S},c.a.createElement(ra.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"email",label:"S\xe4hk\xf6posti",autoFocus:!0,value:i,onChange:function(e){return s(e.target.value)}}),c.a.createElement(ra.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",label:"Salasana",value:d,onChange:function(e){return a=e.target.value,g(a),void x(a===h);var a}}),c.a.createElement(ra.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Vahvista salasana",type:"password",value:h,onChange:function(e){return a=e.target.value,b(a),void x(a===d);var a}}),c.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,disabled:!j},"Luo tili"),c.a.createElement(be.a,{container:!0,justify:"flex-end"},c.a.createElement(be.a,{item:!0},c.a.createElement(he.a,{component:o.b,to:"/login",variant:"body2",className:a.link},"Onko sinulla jo tili? Kirjaudu sis\xe4\xe4n!")))))))}));var xa=Object(ke.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{color:"#000000",textDecoration:"none"}}}}))((function(e){var a=e.classes,t=Object(l.g)(),n=Object(m.b)(),i=Object(r.useState)(""),s=Object(Ne.a)(i,2),u=s[0],p=s[1],d=Object(r.useState)(""),g=Object(Ne.a)(d,2),E=g[0],f=g[1],b=function(){var e=Object(O.a)(y.a.mark((function e(a){var r,c,i,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,R.loginUser({username:u,password:E});case 4:if(200===(r=e.sent).status&&r.data.error&&n(Z({message:"V\xe4\xe4r\xe4 k\xe4ytt\xe4j\xe4tunnus tai salasana",alerType:"error"},5)),200!==r.status||!r.data.token){e.next=19;break}if(c=Date.now()+36e5,i=Object(k.a)(Object(k.a)({},r.data),{},{expireTime:c}),T(i),U.setToken(i.token),n(h(i)),!i.myHome){e.next=17;break}return e.next=15,U.getSingle(i.myHome);case 15:200===(s=e.sent).status&&r.data&&n(G(s.data));case 17:n({type:"LOGIN_USER"}),t.push("/home");case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),console.error(e.t0.data),n(Z({message:e.t0.message,alertType:"error"},5));case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(a){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(fe.a,{component:"main",maxWidth:"xs"},c.a.createElement("div",{className:a.paper},c.a.createElement(ya.a,{className:a.avatar},c.a.createElement(ka.a,null)),c.a.createElement(he.a,{component:"h1",variant:"h5"},"Kirjaudu"),c.a.createElement("form",{onSubmit:b,className:a.form,noValidate:!0},c.a.createElement(ra.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"S\xe4hk\xf6posti",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return p(e.target.value)}}),c.a.createElement(ra.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Salasana",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return f(e.target.value)}}),c.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,disabled:!u||!E},"Kirjaudu"),c.a.createElement(be.a,{container:!0},c.a.createElement(be.a,{item:!0,xs:!0}),c.a.createElement(be.a,{item:!0},c.a.createElement(he.a,{component:o.b,to:"/signin",variant:"body2",className:a.link},"Eik\xf6 sinulla ole viel\xe4 tili\xe4? Luo tili!")))))))})),Ta=t(256),wa=t(281),Sa=t(254),Ca=t(255),Na=t(124),Ra=t.n(Na),Aa=t(125),Fa=t.n(Aa),Ha=Object(ke.a)((function(e){return{root:{width:"90%",marginRight:"auto",marginLeft:"auto",marginBottom:e.spacing(2)},accordion:{backgroundColor:"#fafafa"},header:{display:"inline-block"},launchIcon:{verticalAlign:"sub",marginLeft:"10px"},details:{display:"block"},image:{width:"100%"},description:{maxHeight:"93px",overflow:"hidden"},threedots:{position:"absolute",right:"20px",bottom:"43px",background:"#fafafa",paddingLeft:"8px"}}}))((function(e){var a=e.classes,t=e.apartment,n=Object(l.g)();return c.a.createElement("div",{className:a.root},c.a.createElement(wa.a,{className:a.accordion},c.a.createElement(Sa.a,{expandIcon:c.a.createElement(Ra.a,null)},c.a.createElement("div",null,c.a.createElement(he.a,{variant:"h5",className:a.header,gutterBottom:!0},t.price," \u20ac | ",t.surfaceArea," m\xb2"),c.a.createElement(o.b,{to:"/home/".concat(t.id)},c.a.createElement(ga.a,{className:a.launchIcon,color:"secondary"})),c.a.createElement(he.a,{gutterBottom:!0},t.streetAddress,", ",t.city," |"," ",t.apartmentSetting))),c.a.createElement(Ca.a,{className:a.details},c.a.createElement("img",{src:t.images[0],alt:"apartment",width:"600",className:a.image}),c.a.createElement(he.a,{variant:"h6",gutterBottom:!0},t.header),c.a.createElement(he.a,{className:a.description,gutterBottom:!0},t.description),c.a.createElement("div",{className:a.threedots},c.a.createElement(Fa.a,null)),c.a.createElement(ve.a,{size:"small",color:"primary",onClick:function(){return n.push("/home/".concat(t.id))}},"N\xe4yt\xe4 asunto"))))})),_a={title:"Asunnostasi tyk\xe4nneet",description:"N\xe4m\xe4 haluavat vaihtaa asuntoosi",image:"https://houcher-apartment-images.s3.eu-central-1.amazonaws.com/pawel-czerwinski-1CZCGvc_DBQ-unsplash.jpg"},Ba=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"auto",marginTop:0,marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(ze.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(3),marginBottom:e.spacing(6),padding:e.spacing(3)}),paperProgress:Object(ze.a)({textAlign:"center",marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(3),marginBottom:e.spacing(6),padding:e.spacing(3)}),heading:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},progress:{marginTop:"15px"}}}))((function(e){var a,t=e.classes,n=Object(m.b)(),i=Object(m.c)((function(e){return e.myApartmentReducer})),s=Object(m.c)((function(e){return e.myFansReducer})),l=Object(m.c)((function(e){return e.userReducer}));return Object(r.useEffect)((function(){(function(){var e=Object(O.a)(y.a.mark((function e(){var a,t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if([],!i.apartment.likes){e.next=14;break}return a=i.apartment.likes.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{ownerHasSeen:!0})})),t=Object(k.a)(Object(k.a)({},i.apartment),{},{likes:a,user:l.id}),e.prev=4,e.next=7,U.editApartment(t);case 7:n(q(l.myHome)),n(J(null)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}})()()}),[n,l.id,l.myHome]),Object(r.useEffect)((function(){n(W(l.myHome))}),[n,l.myHome]),a=l.id&&!l.myHome?c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Asunnostasi tyk\xe4nneiden omat asunnot"),c.a.createElement(he.a,{variant:"body1"},"Et ole viel\xe4 lis\xe4nnyt oman asuntosi tietoja."),c.a.createElement("br",null),c.a.createElement(he.a,{component:o.b,to:"/create",variant:"button"},"Lis\xe4\xe4 oma asunto.")):s.isFetching?c.a.createElement(qe.a,{className:t.paperProgress},c.a.createElement(Ta.a,{className:t.progress})):s.hasFetchError?c.a.createElement(he.a,{variant:"body1"},s.errorMessage):s.myFans&&0===s.myFans.length?c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Asunnostasi tyk\xe4nneiden omat asunnot"),c.a.createElement(he.a,{variant:"body1"},"Kukaan ei ole viel\xe4 tyk\xe4nnyt asunnostasi.")):c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Asunnostasi tyk\xe4nneiden omat asunnot"),s.myFans&&s.myFans.map((function(e){return c.a.createElement(Ha,{key:e.myHome.id,apartment:e.myHome})}))),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ge,{header:_a}),c.a.createElement("div",{className:t.layout},a))})),Ma={title:"Tykk\xe4\xe4m\xe4si asunnot",description:"Unelmiesi asunnot ovat t\xe4ss\xe4",image:"https://houcher-apartment-images.s3.eu-central-1.amazonaws.com/pawel-czerwinski-1CZCGvc_DBQ-unsplash.jpg"},Pa=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"auto",marginTop:0,marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(ze.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(3),marginBottom:e.spacing(6),padding:e.spacing(3)}),paperProgress:Object(ze.a)({textAlign:"center",marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(3),marginBottom:e.spacing(6),padding:e.spacing(3)}),heading:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},progress:{marginTop:"15px"}}}))((function(e){var a,t=e.classes,n=Object(m.b)(),i=Object(m.c)((function(e){return e.userReducer})),s=Object(m.c)((function(e){return e.myLikesReducer}));return Object(r.useEffect)((function(){i.id&&n(_(i.id))}),[n,i.id]),a=i.id&&!i.myHome?c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Tykk\xe4\xe4m\xe4si asunnot"),c.a.createElement(he.a,{variant:"body1"},"Et ole viel\xe4 lis\xe4nnyt oman asuntosi tietoja."),c.a.createElement("br",null),c.a.createElement(he.a,{component:o.b,to:"/create",variant:"button"},"Lis\xe4\xe4 oma asunto.")):s.isFetching?c.a.createElement(qe.a,{className:t.paperProgress},c.a.createElement(Ta.a,{className:t.progress})):s.hasFetchError?c.a.createElement(he.a,{variant:"body1"},s.errorMessage):s.user.myLikes&&0===s.user.myLikes.length?c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Tykk\xe4\xe4m\xe4si asunnot"),c.a.createElement(he.a,{variant:"body1"},"Et ole viel\xe4 tyk\xe4nnyt yhdest\xe4k\xe4\xe4n asunnosta."),c.a.createElement("br",null),c.a.createElement(he.a,{component:o.b,to:"/home",variant:"button"},"Katsele asuntoja ja tyk\xe4sty.")):c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Tykk\xe4\xe4m\xe4si asunnot"),s.user.myLikes&&s.user.myLikes.map((function(e){return c.a.createElement(Ha,{key:e.id,apartment:e})}))),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ge,{header:Ma}),c.a.createElement("div",{className:t.layout},a))})),La=t(257),Wa=t(271),Ia=t(258),Ka=t(259),Ua=t(260),Ya=t(261),Da=t(262),za=t(270),qa=Object(ke.a)((function(e){return{layout:Object(ze.a)({},e.breakpoints.up(750+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(ze.a)({marginTop:0,marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(750+2*e.spacing(3)),{marginTop:0,marginBottom:e.spacing(6),padding:e.spacing(3)}),heading:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},submit:{margin:e.spacing(1,20,1,20)}}}))((function(e){var a=e.classes,t=e.user,n=e.setIsEditing;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.layout},c.a.createElement(qe.a,{className:a.paper},c.a.createElement(he.a,{className:a.heading,variant:"h6",gutterBottom:!0},"K\xe4ytt\xe4j\xe4profiili"),c.a.createElement(be.a,{container:!0,spacing:3},c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,c.a.createElement(za.a,{fontWeight:"fontWeightBold",component:"span"},"K\xe4ytt\xe4j\xe4tunnus:\xa0"),t.username)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,c.a.createElement(za.a,{fontWeight:"fontWeightBold",component:"span"},"Nimi n\xe4yt\xf6ll\xe4:\xa0"),t.alias)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,{gutterBottom:!0},c.a.createElement(za.a,{fontWeight:"fontWeightBold",component:"span"},"Etunimi:\xa0"),t.firstname)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,c.a.createElement(za.a,{fontWeight:"fontWeightBold",component:"span"},"Sukunimi:\xa0"),t.lastname))),c.a.createElement(he.a,{className:a.heading,variant:"h6",gutterBottom:!0},"Etsim\xe4ni asunto"),c.a.createElement(be.a,{container:!0,spacing:3},c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,c.a.createElement(za.a,{fontWeight:"fontWeightBold",component:"span"},"Asunnontyyppi:\xa0"),t.newApartmentType)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,c.a.createElement(za.a,{fontWeight:"fontWeightBold",component:"span"},"Huoneiden m\xe4\xe4r\xe4:\xa0"),t.newNumberOfRooms)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,c.a.createElement(za.a,{fontWeight:"fontWeightBold",component:"span"},"Postinumero:\xa0"),t.newPostalCode)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,c.a.createElement(za.a,{fontWeight:"fontWeightBold",component:"span"},"Hintakatto:\xa0"),t.newMaxPrice,"\u20ac"))),c.a.createElement(be.a,{container:!0,spacing:10},c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ve.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return n(!0)}},"Muokkaa"))))))})),Ga=[{label:"Valitse talotyyppi",value:null},{label:"Kerrostalo",value:"kerrostalo"},{label:"Rivitalo",value:"rivitalo"},{label:"Paritalo",value:"paritalo"},{label:"Omakotitalo",value:"omakotitalo"}],Va=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(ze.a)({marginTop:0,marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:0,marginBottom:e.spacing(6),padding:e.spacing(3)}),heading:{marginTop:e.spacing(3),marginBottom:e.spacing(2)},submit:{margin:e.spacing(20,20,1,20)}}}))((function(e){var a=e.classes,t=e.user,n=e.handleChange,r=e.editProfile,i=e.cancelEdit;return c.a.createElement(c.a.Fragment,null,c.a.createElement(qe.a,{className:a.paper},c.a.createElement(he.a,{className:a.heading,variant:"h6",gutterBottom:!0},"K\xe4ytt\xe4j\xe4profiili"),c.a.createElement("form",{onSubmit:function(e){return r(e)}},c.a.createElement(be.a,{container:!0,spacing:3},c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{id:"username",name:"username",label:"K\xe4ytt\xe4j\xe4tunnus",fullWidth:!0,disabled:!0,value:t.username,onChange:function(e){return n(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"alias",name:"alias",label:"Nimi n\xe4yt\xf6ll\xe4",fullWidth:!0,autoFocus:!0,value:t.alias,onChange:function(e){return n(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"firstname",name:"firstname",label:"Etunimi",fullWidth:!0,value:t.firstname,onChange:function(e){return n(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"lastname",name:"lastname",label:"Sukunimi",fullWidth:!0,value:t.lastname,onChange:function(e){return n(e)}}))),c.a.createElement(he.a,{className:a.heading,variant:"h6",gutterBottom:!0},"Etsim\xe4ni asunto"),c.a.createElement(be.a,{container:!0,spacing:3},c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{select:!0,required:!0,id:"newApartmentType",name:"newApartmentType",label:"Talotyyppi",fullWidth:!0,value:t.newApartmentType,onChange:function(e){return n(e)},SelectProps:{native:!0}},Ga.map((function(e){return c.a.createElement("option",{key:e.value,value:e.value,defaultValue:e.value===t.newApartmentType?t.newApartmentType:e.value},e.label)})))),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{type:"number",required:!0,id:"newNumberOfRooms",name:"newNumberOfRooms",label:"Huoneiden m\xe4\xe4r\xe4",helperText:"Keitt\xf6 mukaanlaskettuna",fullWidth:!0,value:t.newNumberOfRooms,onChange:function(e){return n(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{type:"number",required:!0,id:"newPostalCode",name:"newPostalCode",label:"Postinumero",fullWidth:!0,value:t.newPostalCode,onChange:function(e){return n(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{type:"number",required:!0,id:"newMaxPrice",name:"newMaxPrice",label:"Hintakatto",fullWidth:!0,value:t.newMaxPrice,onChange:function(e){return n(e)}}))),c.a.createElement(be.a,{container:!0,spacing:10},c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){return i(e)}},"Peruuta")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Tallenna"))))))})),Ja=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"100%",marginTop:0},e.breakpoints.up(750+2*e.spacing(2)),{maxWidth:700}),paper:Object(ze.a)({marginTop:0,marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(750+2*e.spacing(3)),{marginTop:0,marginBottom:e.spacing(6),padding:e.spacing(3)}),submit:{margin:e.spacing(1,20,1,20)}}}))((function(e){var a=e.classes,t=Object(m.b)(),n=Object(m.c)((function(e){return e.userReducer})),i=Object(r.useState)(!1),s=Object(Ne.a)(i,2),o=s[0],l=s[1],u=Object(r.useState)({}),p=Object(Ne.a)(u,2),d=p[0],g=p[1];Object(r.useEffect)((function(){g((function(e){return Object(k.a)(Object(k.a)({},e),{},{id:n.id,username:n.username,alias:n.lastname?n.lastname:"",firstname:n.firstname?n.firstname:"",lastname:n.lastname?n.lastname:"",myHome:n.myHome?n.myHome:null,myLikes:n.myLikes?n.myLikes:[],newApartmentType:n.newApartmentType?n.newApartmentType:"",newNumberOfRooms:n.newNumberOfRooms?n.newNumberOfRooms:"",newPostalCode:n.newPostalCode?n.newPostalCode:"",newMaxPrice:n.newMaxPrice?n.newMaxPrice:""})}))}),[n]),Object(r.useEffect)((function(){!n.username||n.firstname&&n.lastname?l(!1):(t(Z({message:"T\xe4ydenn\xe4 profiilisi tiedot aluksi",alertType:"success"},5)),l(!0))}),[n.username,n.firstname,n.lastname,t]);var E=function(){var e=Object(O.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),l(!1);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),f=function(){var e=Object(O.a)(y.a.mark((function e(a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,R.editUser(d);case 4:n=e.sent,l(!1),t(h(n.data)),t(Z({message:"Profiilisi tiedot p\xe4ivitettiin",alertType:"success"},5)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0.data),t(Z({message:"Hups! Jokin meni vikaan. Yrit\xe4 my\xf6hemmin uudelleen.",alertType:"error"},5));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,n.username&&c.a.createElement("div",{className:a.layout},o?c.a.createElement(Va,{user:d,handleChange:function(e){var a=e.target,t=a.name,n=a.value;g(Object(k.a)(Object(k.a)({},d),{},Object(ze.a)({},t,n)))},editProfile:f,cancelEdit:E}):c.a.createElement(qa,{user:n,setIsEditing:l})))})),Qa=Object(ke.a)((function(e){return{layout:Object(ze.a)({},e.breakpoints.up(750+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(ze.a)({marginTop:0,marginBottom:e.spacing(3),padding:e.spacing(2),borderRadius:"0 0 4px 4px"},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:0,marginBottom:e.spacing(6),padding:e.spacing(3)}),paperProgress:Object(ze.a)({textAlign:"center",marginTop:0,marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:0,marginBottom:e.spacing(6),padding:e.spacing(3)}),image:{backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",minHeight:"20rem"}}}))((function(e){var a,t=e.classes,n=e.myApartment,r=e.setIsEditingHome,i=n.apartment;return a=n.isFetching?c.a.createElement(qe.a,{className:t.paperProgress},c.a.createElement(Ta.a,{className:t.progress})):n.hasFetchError?n.errorMessage:c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t.layout},c.a.createElement(qe.a,{className:t.paper},c.a.createElement(be.a,{container:!0,spacing:3},c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(he.a,{variant:"h5",gutterBottom:!0},i.price," \u20ac | ",i.surfaceArea," m\xb2"),c.a.createElement(he.a,{gutterBottom:!0},i.streetAddress,", ",i.city," |"," ",i.apartmentSetting)),c.a.createElement(be.a,{item:!0,xs:12,className:t.image,style:{backgroundImage:i.images?"url(".concat(i.images[0],")"):""}}),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(he.a,{variant:"h5",gutterBottom:!0},i.header)),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(he.a,null,i.description)),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(he.a,{variant:"h6",gutterBottom:!0},"Asunnon tiedot")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Sijainti: ",i.streetAddress,", ",i.zipCode," ",i.city," ")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Asuinpinta-ala: ",i.surfaceArea," m\xb2")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Rakennuksen tyyppi: ",i.apartmentType)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Asunnon kokoonpano: ",i.apartmentSetting)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Huoneiden m\xe4\xe4r\xe4: ",i.numberOfRooms)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Rakennusvuosi: ",i.buildYear)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Kerroksien m\xe4\xe4r\xe4: ",i.numberOfFloors)),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Oma tontti: ",i.hasOwnPlot?"Kyll\xe4":"Ei")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Parveke: ",i.hasOwnBalcony?"Kyll\xe4":"Ei")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Hissi: ",i.hasOwnElevator?"Kyll\xe4":"Ei")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Sauna: ",i.hasOwnSauna?"Kyll\xe4":"Ei")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(he.a,null,"Vaihtohinta: ",i.Price," \u20ac"))),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ve.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return r(!0)}},"Muokkaa"))))),c.a.createElement(c.a.Fragment,null,a)})),Za=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(ze.a)({marginTop:0,marginBottom:e.spacing(3),padding:e.spacing(2),borderRadius:"0 0 4px 4px"},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:0,marginBottom:e.spacing(6),padding:e.spacing(3)}),submit:{margin:e.spacing(1,20,1,20)}}}))((function(e){var a=e.classes,t=e.myApartment,n=e.editApartment,r=e.handleInputChange,i=(e.handleCheckboxChange,e.cancelEdit),s=t.apartment;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.layout},c.a.createElement(qe.a,{className:a.paper},c.a.createElement(he.a,{variant:"h6",gutterBottom:!0},"Tallenna asunto"),c.a.createElement("form",{onSubmit:function(e){return n(e)}},c.a.createElement(be.a,{container:!0,spacing:3},c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"streetAddress",name:"streetAddress",label:"Katuosoite",fullWidth:!0,value:s.streetAddress,onChange:function(e){return r(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"surfaceArea",name:"surfaceArea",label:"Asunnon koko",fullWidth:!0,value:s.surfaceArea,onChange:function(e){return r(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"city",name:"city",label:"Kaupunki",fullWidth:!0,value:s.city,onChange:function(e){return r(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"zipCode",name:"zipCode",label:"Postinumero",fullWidth:!0,value:s.zipCode,onChange:function(e){return r(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{select:!0,required:!0,id:"apartmentType",name:"apartmentType",label:"Talotyyppi",fullWidth:!0,value:s.apartmentType,onChange:function(e){return r(e)},SelectProps:{native:!0}},c.a.createElement("option",null),ia.map((function(e){return c.a.createElement("option",{key:e.id,value:e.type},e.type)})))),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"numberOfRooms",name:"numberOfRooms",label:"Huoneiden m\xe4\xe4r\xe4",fullWidth:!0,value:s.numberOfRooms,onChange:function(e){return r(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"buildYear",name:"buildYear",label:"Rakennusvuosi",fullWidth:!0,value:s.buildYear,onChange:function(e){return r(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"numberOfFloors",name:"numberOfFloors",label:"Kerroksien m\xe4\xe4r\xe4",fullWidth:!0,value:s.numberOfFloors,onChange:function(e){return r(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"price",name:"price",label:"Hinta-arvio",fullWidth:!0,value:s.price,onChange:function(e){return r(e)}})),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ra.a,{required:!0,id:"apartmentSetting",name:"apartmentSetting",label:"Asunnon kokoonpano",fullWidth:!0,value:s.apartmentSetting,onChange:function(e){return r(e)}})),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(ra.a,{required:!0,id:"header",name:"header",label:"Ilmoituksen otsikko",fullWidth:!0,value:s.header,onChange:function(e){return r(e)}})),c.a.createElement(be.a,{item:!0,xs:12},c.a.createElement(ra.a,{id:"description",label:"Kuvaus asunnosta",name:"description",multiline:!0,rows:4,variant:"outlined",fullWidth:!0,value:s.description,onChange:function(e){return r(e)}})),c.a.createElement(be.a,{item:!0,xs:6,sm:6},c.a.createElement(Qe.a,{control:c.a.createElement(fa.a,{color:"primary",name:"hasSauna",checked:s.hasSauna,onChange:function(e){return r(e)}}),label:"Oma sauna"})),c.a.createElement(be.a,{item:!0,xs:6,sm:6},c.a.createElement(Qe.a,{control:c.a.createElement(fa.a,{color:"primary",name:"hasBalcony",checked:s.hasBalcony,onChange:function(e){return r(e)}}),label:"Parveke"})),c.a.createElement(be.a,{item:!0,xs:6,sm:6},c.a.createElement(Qe.a,{control:c.a.createElement(fa.a,{color:"primary",name:"hasOwnPlot",checked:s.ownPlot,onChange:function(e){return r(e)}}),label:"Oma tontti"})),c.a.createElement(be.a,{item:!0,xs:6,sm:6},c.a.createElement(Qe.a,{control:c.a.createElement(fa.a,{color:"primary",name:"hasElevator",checked:s.hasElevator,onChange:function(e){return r(e)}}),label:"Hissi"}))),c.a.createElement(be.a,{container:!0,spacing:10},c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){return i(e)}},"Peruuta")),c.a.createElement(be.a,{item:!0,xs:12,sm:6},c.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Tallenna")))))))})),Xa=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"100%",marginTop:0},e.breakpoints.up(750+2*e.spacing(2)),{maxWidth:700}),paper:Object(ze.a)({marginTop:0,marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(750+2*e.spacing(3)),{marginTop:0,marginBottom:e.spacing(6),padding:e.spacing(3)}),submit:{margin:e.spacing(1,20,1,20)}}}))((function(e){var a=e.classes,t=Object(m.b)(),n=Object(l.g)(),i=Object(m.c)((function(e){return e.userReducer})),s=Object(m.c)((function(e){return e.myApartmentReducer})),o=Object(r.useState)(!1),u=Object(Ne.a)(o,2),p=u[0],d=u[1],g=Object(r.useState)({apartment:{streetAddress:"",zipCode:"",city:"",apartmentType:"",surfaceArea:"",numberOfRooms:"",buildYear:"",hasSauna:!1,hasBalcony:!1,hasOwnPlot:!1,hasElevator:!1,numberOfFloors:"",apartmentSetting:"",header:"",description:"",images:"",price:""},isFetching:!1,hasFetchError:!1,errorMessage:null}),E=Object(Ne.a)(g,2),f=E[0],h=E[1];Object(r.useEffect)((function(){null===i.myHome?(n.push("/create"),t(Z({message:"Lis\xe4\xe4 oman asuntosi tiedot",alertType:"success"},5))):i.myHome&&t(q(i.myHome))}),[t,n,i.myHome]),Object(r.useEffect)((function(){h(s)}),[s]);var b=function(){var e=Object(O.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),d(!1);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),v=function(){var e=Object(O.a)(y.a.mark((function e(a){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),(n=f.apartment).user=i.id,e.prev=3,e.next=6,U.editApartment(n);case 6:r=e.sent,d(!1),t(G(r.data)),t(Z({message:"Oman asuntosi tiedot p\xe4ivitettiin",alertType:"success"},5)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0),t(Z({message:"Hups! Jokin meni vikaan. Yrit\xe4 my\xf6hemmin uudelleen.",alertType:"error"},5));case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(a){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.layout},p?c.a.createElement(Za,{myApartment:f,editApartment:v,handleInputChange:function(e){var a=e.target,t=a.name,n="checkbox"===a.type?a.checked:a.value,r=Object(k.a)({},f.apartment);r[t]=n,h(Object(k.a)(Object(k.a)({},f),{},{apartment:r}))},cancelEdit:b}):c.a.createElement(Qa,{myApartment:f,setIsEditingHome:d})))})),$a=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"100%",marginTop:0},e.breakpoints.up(750+2*e.spacing(2)),{maxWidth:700}),paper:Object(ze.a)({marginTop:0,marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(750+2*e.spacing(3)),{marginTop:0,marginBottom:e.spacing(6),padding:e.spacing(3)}),paperProgress:Object(ze.a)({textAlign:"center",marginTop:0,marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(750+2*e.spacing(3)),{marginTop:0,marginBottom:e.spacing(6),padding:e.spacing(3)}),heading:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},progress:{marginTop:"15px"}}}))((function(e){var a,t=e.classes,n=Object(m.b)(),i=Object(m.c)((function(e){return e.userReducer})),s=Object(m.c)((function(e){return e.myLikesReducer}));return Object(r.useEffect)((function(){n(_(i.id))}),[n,i.id]),a=i.id&&!i.myHome?c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Tykk\xe4\xe4m\xe4si asunnot"),c.a.createElement(he.a,{variant:"body1"},"Et ole viel\xe4 lis\xe4nnyt oman asuntosi tietoja."),c.a.createElement("br",null),c.a.createElement(he.a,{component:o.b,to:"/create",variant:"button"},"Lis\xe4\xe4 oma asunto.")):s.isFetching?c.a.createElement(qe.a,{className:t.paperProgress},c.a.createElement(Ta.a,{className:t.progress})):s.hasFetchError?s.errorMessage:s.user.myLikes&&0===s.user.myLikes.length?c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Tykk\xe4\xe4m\xe4si asunnot"),c.a.createElement(he.a,{variant:"body1"},"Et ole viel\xe4 tyk\xe4nnyt yhdest\xe4k\xe4\xe4n asunnosta."),c.a.createElement("br",null),c.a.createElement(he.a,{component:o.b,to:"/home",variant:"button"},"Katsele asuntoja ja tyk\xe4sty.")):c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Tykk\xe4\xe4m\xe4si asunnot"),s.user.myLikes&&s.user.myLikes.map((function(e){return c.a.createElement(Ha,{key:e.id,apartment:e})}))),c.a.createElement("div",{className:t.layout},a)})),et=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"100%",marginTop:0},e.breakpoints.up(750+2*e.spacing(2)),{maxWidth:700}),paper:Object(ze.a)({marginTop:0,marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(750+2*e.spacing(3)),{marginTop:0,marginBottom:e.spacing(6),padding:e.spacing(3)}),paperProgress:Object(ze.a)({textAlign:"center",marginTop:0,marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(750+2*e.spacing(3)),{marginTop:0,marginBottom:e.spacing(6),padding:e.spacing(3)}),heading:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},progress:{marginTop:"15px"}}}))((function(e){var a,t=e.classes,n=Object(m.b)(),i=Object(m.c)((function(e){return e.userReducer})),s=Object(m.c)((function(e){return e.myFansReducer}));return Object(r.useEffect)((function(){n(W(i.myHome))}),[n,i.myHome]),a=i.id&&!i.myHome?c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Asunnostasi tyk\xe4nneiden omat asunnot"),c.a.createElement(he.a,{variant:"body1"},"Et ole viel\xe4 lis\xe4nnyt oman asuntosi tietoja."),c.a.createElement("br",null),c.a.createElement(he.a,{component:o.b,to:"/create",variant:"button"},"Lis\xe4\xe4 oma asunto.")):s.isFetching?c.a.createElement(qe.a,{className:t.paperProgress},c.a.createElement(Ta.a,{className:t.progress})):s.hasFetchError?s.errorMessage:s.myFans&&0===s.myFans.length?c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Asunnostasi tyk\xe4nneiden omat asunnot"),c.a.createElement(he.a,{variant:"body1"},"Kukaan ei ole viel\xe4 tyk\xe4nnyt asunnostasi.")):c.a.createElement(qe.a,{className:t.paper},c.a.createElement(he.a,{className:t.heading,variant:"h6",gutterBottom:!0},"Asunnostasi tyk\xe4nneiden omat asunnot"),s.myFans&&s.myFans.map((function(e){return c.a.createElement(Ha,{key:e.myHome.id,apartment:e.myHome})}))),c.a.createElement("div",{className:t.layout},a)})),at=Object(ke.a)((function(e){return{responsive:Object(ze.a)({},e.breakpoints.down(780),{display:"none"})}}))((function(e){var a=e.text,t=e.classes;return c.a.createElement("span",{className:t.responsive},a)}));function tt(e){var a=e.children,t=e.value,n=e.index,r=Object(Se.a)(e,["children","value","index"]);return c.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),t===n&&c.a.createElement("div",null,a))}function nt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var rt=Object(ke.a)((function(e){return{layout:Object(ze.a)({width:"auto",marginTop:e.spacing(3),marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(750+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),customflex:{justifyContent:"space-around"}}}))((function(e){var a=e.classes,t=Object(r.useState)(0),n=Object(Ne.a)(t,2),i=n[0],s=n[1],o=Object(l.g)();Object(r.useEffect)((function(){var e=function(e){var a=new RegExp("/?tab=([0-9]+)").exec(e);return a?parseInt(a[1]):0}(window.location.search);o.push("?tab=".concat(e)),s(e)}),[o]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.layout},c.a.createElement(La.a,{position:"static"},c.a.createElement(Wa.a,{value:i,onChange:function(e,a){var t="?tab=".concat(a);o.push(t),s(a)},"aria-label":"simple-tabs",variant:"fullWidth",classes:{flexContainer:a.customflex}},c.a.createElement(Ia.a,Object.assign({icon:c.a.createElement(Ka.a,null),label:c.a.createElement(at,{text:"Omat tiedot"})},nt(0))),c.a.createElement(Ia.a,Object.assign({icon:c.a.createElement(Ua.a,null),label:c.a.createElement(at,{text:"Oma asunto"})},nt(1))),c.a.createElement(Ia.a,Object.assign({icon:c.a.createElement(Ya.a,null),label:c.a.createElement(at,{text:"Asunnostasi tyk\xe4nneet"})},nt(3))),c.a.createElement(Ia.a,Object.assign({icon:c.a.createElement(Da.a,null),label:c.a.createElement(at,{text:"Omat tykk\xe4yksesi"})},nt(2))))),c.a.createElement(tt,{value:i,index:0},c.a.createElement(Ja,null)),c.a.createElement(tt,{value:i,index:1},c.a.createElement(Xa,null)),c.a.createElement(tt,{value:i,index:2},c.a.createElement(et,null)),c.a.createElement(tt,{value:i,index:3},c.a.createElement($a,null))))})),ct=function(e){var a=e.children,t=Object(Se.a)(e,["children"]),n=Object(m.c)((function(e){return e.loginReducer})),r=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[[]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i"),n=t.exec(a);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("redirect");return c.a.createElement(l.b,t,n?c.a.createElement(l.a,{to:""===r||null===r?"/home":r}):a)},it=function(){return c.a.createElement(l.d,null,c.a.createElement(ct,{exact:!0,path:"/signin"},c.a.createElement(ja,null)),c.a.createElement(ct,{exact:!0,path:"/login"},c.a.createElement(xa,null)),c.a.createElement(Ce,{exact:!0,path:"/home"},c.a.createElement(ma,null)),c.a.createElement(Ce,{exact:!0,path:"/home/:id"},c.a.createElement(va,null)),c.a.createElement(Ce,{exact:!0,path:"/create"},c.a.createElement(ha,null)),c.a.createElement(Ce,{exact:!0,path:"/myfans"},c.a.createElement(Ba,null)),c.a.createElement(Ce,{exact:!0,path:"/userlikes"},c.a.createElement(Pa,null)),c.a.createElement(Ce,{exact:!0,path:"/user"},c.a.createElement(rt,null)),c.a.createElement(l.b,{path:"/"},c.a.createElement(we,null)))},st=t(282),ot=Object(ke.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))((function(e){var a=e.classes,t=Object(m.c)((function(e){return e.loaderReducer}));return c.a.createElement("div",null,c.a.createElement(st.a,{className:a.backdrop,open:t},c.a.createElement(Ta.a,{color:"primary"})))})),lt=t(275),mt=t(272),ut=t(263);function pt(e){return c.a.createElement(mt.a,Object.assign({elevation:6,variant:"filled"},e))}var dt=Object(ut.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),gt=function(){var e=dt(),a=Object(m.c)((function(e){return e.notificationReducer}));return a?c.a.createElement("div",{className:e.root},a.message&&c.a.createElement(lt.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"left"}},c.a.createElement(pt,{severity:a.alertType},a.message))):null},Et=t(265),ft=t(127),ht=t(266),bt=t(264),vt=Object(ke.a)((function(e){return{badge:{right:3,top:3,color:"#fff",padding:"10px 4px",fontSize:14}}}))(bt.a),yt=Object(ke.a)((function(e){return{responsive:Object(ze.a)({},e.breakpoints.down(780),{display:"none"})}}))((function(e){var a=e.text,t=e.classes,n=Object(m.b)(),r=Object(m.c)((function(e){return e.newLikesReducer})),i=Object(m.c)((function(e){return e.myApartmentReducer}));if(i.apartment.likes){var s=null;i.apartment.likes.forEach((function(e){!1===e.ownerHasSeen&&s++})),n(J(s))}return c.a.createElement(c.a.Fragment,null,r?c.a.createElement(vt,{color:"secondary",badgeContent:r},c.a.createElement("span",{className:t.responsive},a)):c.a.createElement("span",{className:t.responsive},a))})),Ot=Object(ke.a)({subtitle1:{marginLeft:"1rem",display:"inline-block"}})(he.a),kt=Object(ke.a)((function(e){return{root:{flexGrow:1},toolbar:{justifyContent:"space-between"},flexgrow:{flexGrow:2},titleMain:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)",paddingBottom:4},title:Object(ze.a)({textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},e.breakpoints.down(780),{marginLeft:"1.5rem"})}}))((function(e){var a=e.classes,t=Object(l.g)(),n=Object(m.b)(),i=Object(m.c)((function(e){return e.loginReducer})),s=Object(m.c)((function(e){return e.userReducer})),u=Object(r.useState)(null),p=Object(Ne.a)(u,2),d=p[0],g=p[1],E=Boolean(d),f=!!s.myHome;return c.a.createElement("div",{className:a.root},c.a.createElement(La.a,{position:"static"},c.a.createElement(Et.a,{className:a.toolbar},c.a.createElement(he.a,{component:o.b,to:i?"/home":"/",variant:"h6",className:a.titleMain},"Houcher"),i&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.flexgrow},c.a.createElement(Ot,{component:o.b,to:"/home",variant:"subtitle1",className:a.title},c.a.createElement(Be.a,null,c.a.createElement(ht.a,null)),c.a.createElement(at,{text:"Kaikki asunnot"})),c.a.createElement(Ot,{component:o.b,to:"/myfans",variant:"subtitle1",className:a.title},c.a.createElement(Be.a,null,c.a.createElement(Ya.a,null)),c.a.createElement(yt,{myFans:43,text:"Asunnostasi tyk\xe4nneet"})),c.a.createElement(Ot,{component:o.b,to:"/userlikes",variant:"subtitle1",className:a.title},c.a.createElement(Be.a,null,c.a.createElement(Da.a,null)),c.a.createElement(at,{text:"Omat tykk\xe4yksesi"}))),c.a.createElement(Be.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){g(e.currentTarget)},color:"inherit"},c.a.createElement(Ka.a,null)),c.a.createElement(ft.a,{id:"menu-appbar",anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:function(){g(null)}},c.a.createElement(ta.a,{component:o.b,to:"/home",onClick:function(){return g(null)}},"Etusivu"),c.a.createElement(ta.a,{component:o.b,to:"/user",onClick:function(){return g(null)}},"Omat tiedot"),c.a.createElement(ta.a,{component:o.b,to:"/create",onClick:function(){return g(null)},disabled:f},"Tallenna asunto"),c.a.createElement(ta.a,{onClick:function(){g(null),window.localStorage.clear(),n({type:"RESET_USER",user:{}}),n({type:"RESET_APARTMENTS",data:{apartments:[],isFetching:!1,hasFetchError:!1,errorMessage:null}}),n({type:"RESET_MY_APARTMENT",data:{apartment:{},isFetching:!1,hasFetchError:!1,errorMessage:null}}),n({type:"RESET_SINGLE_APARTMENT",data:{apartment:{},isFetching:!1,hasFetchError:!1,errorMessage:null}}),n({type:"RESET_MYLIKES",data:{user:{},isFetching:!1,hasFetchError:!1,errorMessage:null}}),n({type:"RESET_MYFANS",data:{myFans:[],isFetching:!1,hasFetchError:!1,errorMessage:null}}),n({type:"LOGOUT_USER"}),n({type:"SHOW_SIX"}),t.push("/")}},"Kirjaudu ulos"))))))})),jt=t(267);var xt=function(){return c.a.createElement(he.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",c.a.createElement(jt.a,{color:"inherit",href:"https://"},"Houcher")," ",(new Date).getFullYear(),".")};var Tt=Object(ke.a)((function(e){return{footer:{padding:e.spacing(6)}}}))((function(e){var a=e.classes;return c.a.createElement("footer",{className:a.footer},c.a.createElement(xt,null))})),wt=Object(ge.a)({palette:{primary:{light:"#ffa4a2",main:"#e57373",dark:"#af4448",contrastText:"#000000"},secondary:{light:"#8eacbc",main:"#607d8c",dark:"#34515f",contrastText:"#000000"}}});var St=Object(l.j)((function(){var e=Object(m.b)();return Object(r.useEffect)((function(){function a(){return(a=Object(O.a)(y.a.mark((function a(n){var r,c;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.getUser(n);case 2:r=a.sent,c=r.data,U.setToken(t.token),e(q(c.myHome)),e({type:"LOGIN_USER"}),e(h(c));case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var t=w(),n=Date.now();t&&t.expireTime>n?function(e){a.apply(this,arguments)}(t.id):S()}),[e]),c.a.createElement(Ee.a,{theme:wt},c.a.createElement(de.a,null),c.a.createElement(ot,null),c.a.createElement(gt,null),c.a.createElement(kt,null),c.a.createElement(it,null),c.a.createElement(Tt,null))}));s.a.render(c.a.createElement(m.a,{store:pe},c.a.createElement(o.a,null,c.a.createElement(u.c,{ReactRouterRoute:l.b},c.a.createElement(St,null)))),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.f8f0d964.chunk.js.map